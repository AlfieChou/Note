黑盒测试也称为功能测试，测试人员不需要了解程序的内部结构和实现机制    
白盒测试也称为结构测试，测试人员需要完全了解程序内部逻辑和代码   
灰盒：**轻量级**插桩获取一些程序结构信息 覆盖率信息来决策保留哪些输入进一步进行模糊测试

定向灰盒模糊测试(DGF)：针对性地生成测试用例**高效达到特定目标代码位置** 探索特定的代码路径 检测漏洞，如代码中认为可能存在安全问题的区域    
通过在**编译**时进行代码块**距离标记**，实现了运行时的**高效距离计算**。在实践中，DGF不仅提高了**达到特定目标代码位置的效率**，还提高了漏洞检测的有效性   
编译时完成所有必要的程序分析，避免了运行时的开销，并且可并行化   

距离测量：跨过程测量方法来计算**种子输入与目标位置之间的距离**，这个距离在运行时可以高效地计算   

功率调度  
模拟退火的能量分配策略：启发式搜索算法，这里被用于调整测试用例的生成   
优先考虑有可能触及目标位置的输入 逐渐给那些**更接近目标位置的种子分配更多的能量**，同时**减少那些距离较远种子的能量**    
**优化距离度量来指导种子输入生成，从而有效地定位程序中的潜在漏洞位置**   

基于退火的功率调度（APS）：调整每个种子输入的“能量” 取决于种子与目标位置的距离和测试的进程 倾向于探索路径，然后转向更专注于可能的问题区域    


基于符号执行的传统定向模糊测试    
Katch 基于Klee符号执行引擎实现 补丁测试工具    
编译-处理变更基本块-寻找最接近目标的种子-构造路径约束以产生新输入（**重量级程序分析 生成输入耗时长**）   

定向灰盒模糊测试AFLGo   
**轻量级的编译时分析以及基于模拟退火的全局搜索策略**  快速接近全局最优解并最终触达目标  高效执行输入  并行搜索目标  根据种子输入与目标的距离，来评估种子的适应度    



AFLGo 评估DGF有效性（检测到更多漏洞）和效率（在相同时间内达到更多目标）   
图提取器（GE） 距离计算器（DC） 插桩器 模糊测试器   
AFLGo不需要在运行时进行程序分析，因此能够生成比Katch多得多的输入   

1.补丁测试  补丁覆盖率（覆盖更多基本块）and 漏洞检测   

2.持续模糊测试 发现安全关键开源项目中潜在漏洞 定向测试最近的代码更改   

3.崩溃再现： 更多更高效 针对性测试 根据堆栈跟踪中的信息指导测试过程，快速定位和触发软件中的潜在漏洞，自动化崩溃再现   
应用：在收到崩溃报告后，测试人员或开发者将尝试使用相同或类似的输入和环境设置来触发崩溃，以便能够观察崩溃时的行为并对其进行调试。**定向模糊测试工具可以用来生成引发特定崩溃的测试用例，尤其当崩溃的具体输入数据不可用时，这种方法尤其有效**    


有效性威胁   
外部有效性（外推性） 不适用于未经测试的主题 可能不同的结果   
内部有效性 初步种子的选择问题 初始条件一致性   
构建有效性 是否真正测量了它声称的内容   


模糊测试方法及其典型应用   
1.定向模糊测试 集成到符号执行引擎    
2.基于覆盖率的灰盒模糊测试 如AFL旨在**增加程序路径覆盖而不引入程序分析的开销 轻量级程序分析**都在编译时完成   
3.基于符号执行的白盒模糊测试（如Klee或Katch）使用符号程序分析和约束求解来**精确地指导测试生成**    
通过将大部分（轻量级的）程序分析移至编译时和使用模拟退火算法来改进测试生成，从而保持灰盒模糊测试的运行时效率   

综合定向模糊测试技术 灰白结合   











